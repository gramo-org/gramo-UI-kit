!function(t){var n="drilldown",i="dd-open",a="dd-close",l="drilldown-body",o="."+l,s="drilldown-toggle",d="drilldown-open-all",e="drilldown-close-all",c="level",r=function(n){var l=t(this);l.removeClass(a).addClass(i);var s=l.data(c)||1;l.nextAll(o).each(function(){return t(this).data(c)<=s?!1:t(this).data(c)>s+1?!0:void t(this).stop().show(n.speed)})},h=function(n){var s=t(this);s.removeClass(i).addClass(a);var d=s.data(c)||1;s.nextAll(o).each(function(){return t(this).data(c)<=d?!1:(t(this).hasClass(l)&&t(this).removeClass(i).addClass(a),void t(this).stop().hide(n.speed))})},u=function(n){var a=t(this).closest(o);a.hasClass(i)?h.call(a,n):r.call(a,n)},f={init:function(i){return i=t.extend({speed:"fast"},i),this.each(function(){var a=this,l=t(this),o=l.data(n);o||(i=t.extend({},i),l.data(n,{options:i})),l.find("."+s).unbind("click."+n).bind("click."+n,function(){var t=l.data(n).options;u.call(this,t)}),l.find("."+d).unbind("click."+n).bind("click."+n,function(){f.openAll.call(a)}),l.find("."+e).unbind("click."+n).bind("click."+n,function(){f.closeAll.call(a)})})},destroy:function(){return this.each(function(){var i=t(this);t(window).unbind("."+n),i.removeData(n)})},openAll:function(i){var a=t(this);i=t.extend(a.data(n).options,i),a.find(o).each(function(){1==t(this).data(c)&&r.call(t(this),i)})},closeAll:function(i){var a=t(this);i=t.extend(a.data(n).options,i),a.find(o).each(function(){1==t(this).data(c)&&h.call(t(this),i)})}};t.fn.drilldown=function(n){return f[n]?f[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.drilldown"):f.init.apply(this,arguments)}}(jQuery);