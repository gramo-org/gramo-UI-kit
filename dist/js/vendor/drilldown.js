!function(l){function a(n){var t=l(this);t.removeClass(e).addClass(s);var i=t.data(h)||1;t.nextAll(r).each(function(){return!(l(this).data(h)<=i)&&(l(this).data(h)>i+1||void l(this).stop().prop("hidden",!1).show(n.speed))})}function d(n){var t=l(this);t.removeClass(s).addClass(e);var i=t.data(h)||1;t.nextAll(r).each(function(){if(l(this).data(h)<=i)return!1;l(this).hasClass(c)&&l(this).removeClass(s).addClass(e),l(this).stop().prop("hidden",!0).hide(n.speed)})}var o="drilldown",s="dd-open",e="dd-close",c="drilldown-body",r="."+c,h="level",u={init:function(i){return i=l.extend({speed:"fast"},i),this.each(function(){var n=this,t=l(this);t.data(o)||(i=l.extend({},i),t.data(o,{options:i})),t.find(".drilldown-toggle").unbind("click."+o).bind("click."+o,function(){var n=t.data(o).options;(function(n){var t=l(this).closest(r);t.hasClass(s)?d.call(t,n):a.call(t,n)}).call(this,n)}),t.find(".drilldown-open-all").unbind("click."+o).bind("click."+o,function(){u.openAll.call(n)}),t.find(".drilldown-close-all").unbind("click."+o).bind("click."+o,function(){u.closeAll.call(n)})})},destroy:function(){return this.each(function(){var n=l(this);l(window).unbind("."+o),n.removeData(o)})},openAll:function(n){var t=l(this);n=l.extend(t.data(o).options,n),t.find(r).each(function(){1==l(this).data(h)&&a.call(l(this),n)})},closeAll:function(n){var t=l(this);n=l.extend(t.data(o).options,n),t.find(r).each(function(){1==l(this).data(h)&&d.call(l(this),n)})}};l.fn.drilldown=function(n){return u[n]?u[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void l.error("Method "+n+" does not exist on jQuery.drilldown"):u.init.apply(this,arguments)}}(jQuery);