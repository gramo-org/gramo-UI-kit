!function(n){var t="drilldown",i="dd-open",l="dd-close",a="drilldown-body",d="."+a,o="drilldown-toggle",s="drilldown-open-all",e="drilldown-close-all",c="level",r=function(t){var a=n(this);a.removeClass(l).addClass(i);var o=a.data(c)||1;a.nextAll(d).each(function(){return!(n(this).data(c)<=o)&&(n(this).data(c)>o+1||void n(this).stop().prop("hidden",!1).show(t.speed))})},h=function(t){var o=n(this);o.removeClass(i).addClass(l);var s=o.data(c)||1;o.nextAll(d).each(function(){return!(n(this).data(c)<=s)&&(n(this).hasClass(a)&&n(this).removeClass(i).addClass(l),void n(this).stop().prop("hidden",!0).hide(t.speed))})},u=function(t){var l=n(this).closest(d);l.hasClass(i)?h.call(l,t):r.call(l,t)},f={init:function(i){return i=n.extend({speed:"fast"},i),this.each(function(){var l=this,a=n(this),d=a.data(t);d||(i=n.extend({},i),a.data(t,{options:i})),a.find("."+o).unbind("click."+t).bind("click."+t,function(){var n=a.data(t).options;u.call(this,n)}),a.find("."+s).unbind("click."+t).bind("click."+t,function(){f.openAll.call(l)}),a.find("."+e).unbind("click."+t).bind("click."+t,function(){f.closeAll.call(l)})})},destroy:function(){return this.each(function(){var i=n(this);n(window).unbind("."+t),i.removeData(t)})},openAll:function(i){var l=n(this);i=n.extend(l.data(t).options,i),l.find(d).each(function(){1==n(this).data(c)&&r.call(n(this),i)})},closeAll:function(i){var l=n(this);i=n.extend(l.data(t).options,i),l.find(d).each(function(){1==n(this).data(c)&&h.call(n(this),i)})}};n.fn.drilldown=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist on jQuery.drilldown"):f.init.apply(this,arguments)}}(jQuery);